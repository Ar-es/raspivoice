INSTALL RaspiVoice
Tested on Raspberry Pi Model B, running Raspbian, Linux raspberrypi 3.18.7+ #755 PREEMPT Thu Feb 12 17:14:31 GMT 2015 armv6l GNU/Linux
And Raspberry Pi 2 Model B, running Raspbian, Linux raspberrypi 3.18.7-v7+ #755 SMP PREEMPT Thu Feb 12 17:20:48 GMT 2015 armv7l GNU/Linux 
(check with uname - a)

1. log into raspberry pi via ssh.

2. install necessary packages:

sudo apt-get install gcc cmake libopencv-dev binutils wget gcc-4.8 g++-4.8 libncurses5-dev

3. install raspicam: (follow http://www.uco.es/investiga/grupos/ava/node/40 in case of errors):

cd ~
wget http://iweb.dl.sourceforge.net/project/raspicam/raspicam-0.1.3.zip 
unzip raspicam-0.1.3.zip
cd raspicam-0.1.3
mkdir build
cd build
cmake ..
make -j 4
sudo make install
sudo ldconfig

4. Go to raspivoice source folder (where this INSTALL file is located) and build raspivoice:
cd ~/raspivoice/

# -either-: on Raspberry pi 1:
make -j 4
# -or-: on Raspberry Pi 2:
make -j 4 CONFIG=release_rpi2

5. If all went well, you can now test raspivoice in the Release folder (should output some text and keep running, cancel by pressing Enter.):
./Release/raspivoice -s 0 -v

6. install to system:
sudo cp Release/raspivoice /usr/local/bin/

---------------------------------------------------------------------------------------

Using raspivoice:

- Show command line options:
raspivoice --help

- Choose camera:
Default is USB camera 0 (check with lsusb if connected)

Test image (Ascii art in config.h) (warning: most options do not work with the test image):
raspivoice -s0

Raspberry Pi camera:
raspivoice -s1

- Choose audio output:
Default is analog line out (3.5mm headphone jack). Might be noisy, USB audio is preferred.
if no audio via headphone jack: sudo raspi-config -> Advanced Options -> A9 Audio -> 1 Force 3.5mm ('headphone') jack

If USB audio output is connected (e.g. USB headphones):
List devices:
aplay -L

Output might look like this:
null
    Discard all samples (playback) or generate zero samples (capture)
default:CARD=ALSA
    bcm2835 ALSA, bcm2835 ALSA
    Default Audio Device
sysdefault:CARD=ALSA
    bcm2835 ALSA, bcm2835 ALSA
    Default Audio Device
default:CARD=Headset
    Logitech Wireless Headset, USB Audio
    Default Audio Device
sysdefault:CARD=Headset
    Logitech Wireless Headset, USB Audio
    Default Audio Device
front:CARD=Headset,DEV=0
    Logitech Wireless Headset, USB Audio
    Front speakers

For example, choose headset default:
raspivoice -a default:CARD=Headset

- Show preview window:
If monitor is connected to raspberry pi, start X windows graphical user interface (startx), and run from terminal:

raspivoice -p

Otherwise, ssh -Y to raspberry pi. Windows: Use Xming and putty, set Connection->SSH->X11->Enable X11 forwarding.

The warning message "(RaspiVoice Preview:5666): GLib-GObject-WARNING **: Attempt to add property GtkSettings::gtk-label-select-on-focus after class was initialised" can be ignored.
